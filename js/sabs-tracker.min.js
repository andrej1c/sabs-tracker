
jQuery(document).ready(function(d){d(".sabs_add_row").on("click",function(j){j.preventDefault();var i=d(this);var h=i.closest("tr");d(".chosen-select").chosen("destroy");a(h,true);d(".chosen-select").chosen()});d(".chosen-select").chosen();function a(j,k){var m=j.closest("tbody");var i=m.find("tr");var h=0;i.each(function(n,o){var p=parseInt(d(o).attr("id"));if(p>h){h=p}});if(k){var l=j.prev().clone(true)}else{var l=j.clone(true)}l.attr("id",(h+1));l.find(".sabs_user_id").attr("name","sabs_tracker_user_category[user_category]["+(h+1)+"][user_id]");l.find(".sabs_user_id").val(-1);l.find(".sabs_category_id").attr("name","sabs_tracker_user_category[user_category]["+(h+1)+"][category_id]");l.find(".sabs_category_id").val(-1);l.insertBefore(j)}d(".sabs_remove_row").on("click",function(k){k.preventDefault();var j=d(this);var i=j.closest("tr");var l=j.closest("tbody");var h=l.find("tr").length;if(h<3){a(i,false)}i.remove()});var g=limits.youth_limit;var b=limits.volunteers_limit;var c=limits.total_limit;var f=categories.youth_category;var e=categories.volunteers_category;d("form#post").submit(function(){var j=d('input[name$="post_type"]');if(j.length>0&&j.val().indexOf("sabs_schedule")>-1){var h=d("#categorychecklist input:checkbox:checked").length;var i=d("#category-"+f+" input:checkbox:checked").length;var k=d("#category-"+e+" input:checkbox:checked").length;if(0!=g&&i>g){d(".spinner").hide();d("#publish").removeClass("button-primary-disabled");alert("Warning: You have selected more attendees then is allowed in Youth category. Allowed number is "+g)}if(0!=b&&k>b){d(".spinner").hide();d("#publish").removeClass("button-primary-disabled");alert("Warning: You have selected more attendees then is allowed in Volunteers category. Allowed number is "+b)}if(0!=c&&h>c){d(".spinner").hide();d("#publish").removeClass("button-primary-disabled");alert("Warning: You have selected more attendees then is allowed in total. Allowed number is "+c)}}})});